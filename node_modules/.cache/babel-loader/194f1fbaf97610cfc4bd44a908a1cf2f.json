{"ast":null,"code":"var _jsxFileName = \"/Users/John/Dev/MC/media_ops_control_center/the-mocc-front/src/components/SelectionInfo.js\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { postDataToSheet } from '../actions/postDataToTrackingSheet';\nimport { postReviewerDataToSheet } from '../actions/postReviewerDataToSheet';\nimport { findDriveFolderIds } from '../actions/moveToSelectedDriveFolder';\nimport ReviewerInfo from './ReviewerInfo';\n\nconst SelectionInfo = props => {\n  const [selectedReviewer, setSelectedReviewer] = useState(\"-\");\n  const [updatingDrive, setDriveStatus] = useState(false);\n\n  const pageRefresh = () => window.location.reload(false);\n\n  const assignmentsCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && video.mcQastatus);\n\n  const assignmentsNotCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && !video.mcQastatus);\n\n  const totalAssignmentsByReviewer = assignmentsCompletedByReviewer().length + assignmentsNotCompletedByReviewer().length + props.count;\n  const selectedReviewerRowId = props.reviewers.find(r => r.name === selectedReviewer).rowId;\n\n  const toggleDriveStatus = () => {\n    return !updatingDrive;\n  };\n\n  const clickHandler = event => {\n    event.preventDefault();\n    setDriveStatus(true);\n\n    if (selectedReviewer !== \"-\") {\n      const selectionData = {\n        selectedVideos: props.selectedVideos,\n        reviewer: selectedReviewer\n      };\n      const reviewerData = {\n        name: selectedReviewer,\n        rowId: selectedReviewerRowId,\n        totalAssignments: totalAssignmentsByReviewer,\n        assignmentsCompleted: assignmentsCompletedByReviewer().length\n      };\n      selectionData.selectedVideos.forEach(video => {\n        debugger;\n        const selectedVideo = {\n          video: video,\n          reviewer: selectedReviewer\n        };\n        debugger;\n        props.postSelectionDataToSheet(selectedVideo);\n        props.findDriveFolderIds(selectedVideo);\n      });\n      props.postReviewerDataToSheet(reviewerData);\n      setDriveStatus(false); // alert(`You've assigned ${props.selectedVideos.length} videos to ${selectedReviewer}`)\n      // pageRefresh()\n    } else {\n      alert(\"You Must Select a Reviewer to assign videos\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selection-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"selection-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Selected Videos: \", props.count, \" \")), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Assign \", props.count, \" videos to:\", /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => setSelectedReviewer(event.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, props.parseReviewers()), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => clickHandler(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Assign Videos\")), /*#__PURE__*/React.createElement(ReviewerInfo, {\n    reviewers: props.reviewers,\n    assignmentsCompleted: assignmentsCompletedByReviewer,\n    assignmentsNotCompleted: assignmentsNotCompletedByReviewer,\n    count: props.count,\n    selectedReviewer: selectedReviewer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 12\n    }\n  }, updatingDrive ? /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 30\n    }\n  }, \"Updating Drive Information....\") : null));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  postSelectionDataToSheet: selectionData => dispatch(postDataToSheet(selectionData)),\n  postReviewerDataToSheet: reviewerData => dispatch(postReviewerDataToSheet(reviewerData)),\n  findDriveFolderIds: selectionData => dispatch(findDriveFolderIds(selectionData))\n});\n\nexport default connect(0, mapDispatchToProps)(SelectionInfo);","map":{"version":3,"sources":["/Users/John/Dev/MC/media_ops_control_center/the-mocc-front/src/components/SelectionInfo.js"],"names":["React","useState","connect","postDataToSheet","postReviewerDataToSheet","findDriveFolderIds","ReviewerInfo","SelectionInfo","props","selectedReviewer","setSelectedReviewer","updatingDrive","setDriveStatus","pageRefresh","window","location","reload","assignmentsCompletedByReviewer","allVideos","filter","video","reviewer","mcQastatus","assignmentsNotCompletedByReviewer","totalAssignmentsByReviewer","length","count","selectedReviewerRowId","reviewers","find","r","name","rowId","toggleDriveStatus","clickHandler","event","preventDefault","selectionData","selectedVideos","reviewerData","totalAssignments","assignmentsCompleted","forEach","selectedVideo","postSelectionDataToSheet","alert","currentTarget","value","parseReviewers","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { postDataToSheet } from '../actions/postDataToTrackingSheet'\nimport { postReviewerDataToSheet } from '../actions/postReviewerDataToSheet'\nimport { findDriveFolderIds } from '../actions/moveToSelectedDriveFolder'\nimport ReviewerInfo from './ReviewerInfo'\n\n\nconst SelectionInfo = props => {\n\n    const [selectedReviewer, setSelectedReviewer] = useState(\"-\")\n    \n    const [updatingDrive, setDriveStatus] = useState(false)\n\n    const pageRefresh = () => window.location.reload(false)\n\n    const assignmentsCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && video.mcQastatus)\n    \n    const assignmentsNotCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && !video.mcQastatus)\n    \n    const totalAssignmentsByReviewer = assignmentsCompletedByReviewer().length + assignmentsNotCompletedByReviewer().length + props.count\n\n    const selectedReviewerRowId = props.reviewers.find(r => r.name === selectedReviewer).rowId\n\n    const toggleDriveStatus = () => {\n        return !updatingDrive\n    } \n    const clickHandler = event => {\n        event.preventDefault()\n        setDriveStatus(true)\n        if(selectedReviewer !== \"-\"){\n            const selectionData = {\n                selectedVideos: props.selectedVideos,\n                reviewer: selectedReviewer\n            }\n\n            const reviewerData = {\n                name: selectedReviewer,\n                rowId: selectedReviewerRowId,\n                totalAssignments: totalAssignmentsByReviewer,\n                assignmentsCompleted: assignmentsCompletedByReviewer().length\n            }\n\n            selectionData.selectedVideos.forEach(video => {\n                debugger\n                const selectedVideo = {\n                    video: video,\n                    reviewer: selectedReviewer\n                }\n                debugger\n                props.postSelectionDataToSheet(selectedVideo)\n                props.findDriveFolderIds(selectedVideo)\n            })\n            props.postReviewerDataToSheet(reviewerData)\n            setDriveStatus(false)\n            // alert(`You've assigned ${props.selectedVideos.length} videos to ${selectedReviewer}`)\n            // pageRefresh()\n        }else{\n            alert(\"You Must Select a Reviewer to assign videos\")\n        }\n    }\n\n\n    return(\n        <div className=\"selection-div\">\n            <div id=\"selection-details\">\n                <h2>Selected Videos: {props.count} </h2>\n            </div>\n            <form id=\"options\">\n                Assign {props.count} videos to:\n                <select onChange={event => setSelectedReviewer(event.currentTarget.value)}>\n                    {props.parseReviewers()}\n                </select>\n                <button onClick={event => clickHandler(event)}>Assign Videos</button>\n            </form>\n            <ReviewerInfo reviewers={props.reviewers} assignmentsCompleted={assignmentsCompletedByReviewer} assignmentsNotCompleted={assignmentsNotCompletedByReviewer} count={props.count} selectedReviewer={selectedReviewer}/>\n           <div>\n            {updatingDrive ? <h3>Updating Drive Information....</h3>: null}\n            </div> \n        </div>\n        \n    )\n}\n\nconst mapDispatchToProps = dispatch => ({\n    postSelectionDataToSheet: selectionData => dispatch(postDataToSheet(selectionData)),\n    postReviewerDataToSheet: reviewerData => dispatch(postReviewerDataToSheet(reviewerData)),\n    findDriveFolderIds: selectionData => dispatch(findDriveFolderIds(selectionData))\n})\n\n\n\nexport default connect (0, mapDispatchToProps)(SelectionInfo)"]},"metadata":{},"sourceType":"module"}