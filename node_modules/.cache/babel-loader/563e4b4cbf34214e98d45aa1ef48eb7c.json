{"ast":null,"code":"var _jsxFileName = \"/Users/John/Dev/MC/media_ops_control_center/the-mocc-front/src/components/SelectionInfo.js\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { postDataToSheet } from '../actions/postDataToTrackingSheet';\nimport { postReviewerDataToSheet } from '../actions/postReviewerDataToSheet';\nimport { findDriveFolderIds } from '../actions/moveToSelectedDriveFolder';\nimport ReviewerInfo from './ReviewerInfo';\nimport ProgressPanel from './ProgressPanel';\n\nconst SelectionInfo = props => {\n  const [selectedReviewer, setSelectedReviewer] = useState(\"-\");\n  const [updatingDrive, setDriveStatus] = useState(false);\n\n  const pageRefresh = () => window.location.reload(false);\n\n  const assignmentsCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && video.mcQastatus);\n\n  const assignmentsNotCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && !video.mcQastatus);\n\n  const totalAssignmentsByReviewer = assignmentsCompletedByReviewer().length + assignmentsNotCompletedByReviewer().length + props.count;\n  const selectedReviewerRowId = props.reviewers.find(r => r.name === selectedReviewer).rowId;\n\n  const toggleUpdateStatus = () => {\n    setDriveStatus(!updatingDrive);\n  };\n\n  const clickHandler = event => {\n    event.preventDefault();\n    toggleUpdateStatus();\n\n    if (selectedReviewer !== \"-\") {\n      const selectionData = {\n        selectedVideos: props.selectedVideos,\n        reviewer: selectedReviewer\n      };\n      const reviewerData = {\n        name: selectedReviewer,\n        rowId: selectedReviewerRowId,\n        totalAssignments: totalAssignmentsByReviewer,\n        assignmentsCompleted: assignmentsCompletedByReviewer().length\n      };\n      selectionData.selectedVideos.forEach(video => {\n        const selectedVideo = {\n          video: video,\n          reviewer: selectedReviewer\n        };\n        props.postSelectionDataToSheet(selectedVideo);\n        props.findDriveFolderIds(selectedVideo);\n      });\n      props.postReviewerDataToSheet(reviewerData); // TO DO: FIX LOGIC BELOW\n      // alert(`You've assigned ${props.selectedVideos.length} videos to ${selectedReviewer}`)\n      // pageRefresh()\n    } else {\n      alert(\"You Must Select a Reviewer to assign videos\");\n    }\n\n    toggleUpdateStatus();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selection-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"selection-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Selected Videos: \", props.count, \" \")), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Assign \", props.count, \" videos to:\", /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => setSelectedReviewer(event.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, props.parseReviewers()), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => clickHandler(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Assign Videos\")), /*#__PURE__*/React.createElement(ReviewerInfo, {\n    reviewers: props.reviewers,\n    assignmentsCompleted: assignmentsCompletedByReviewer,\n    assignmentsNotCompleted: assignmentsNotCompletedByReviewer,\n    count: props.count,\n    selectedReviewer: selectedReviewer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 12\n    }\n  }, updatingDrive ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 30\n    }\n  }, \"Updating Drive Information....\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 75\n    }\n  }, \"Reviewer Drive Up To Date\")));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  postSelectionDataToSheet: selectionData => dispatch(postDataToSheet(selectionData)),\n  postReviewerDataToSheet: reviewerData => dispatch(postReviewerDataToSheet(reviewerData)),\n  findDriveFolderIds: selectionData => dispatch(findDriveFolderIds(selectionData))\n});\n\nexport default connect(0, mapDispatchToProps)(SelectionInfo);","map":{"version":3,"sources":["/Users/John/Dev/MC/media_ops_control_center/the-mocc-front/src/components/SelectionInfo.js"],"names":["React","useState","connect","postDataToSheet","postReviewerDataToSheet","findDriveFolderIds","ReviewerInfo","ProgressPanel","SelectionInfo","props","selectedReviewer","setSelectedReviewer","updatingDrive","setDriveStatus","pageRefresh","window","location","reload","assignmentsCompletedByReviewer","allVideos","filter","video","reviewer","mcQastatus","assignmentsNotCompletedByReviewer","totalAssignmentsByReviewer","length","count","selectedReviewerRowId","reviewers","find","r","name","rowId","toggleUpdateStatus","clickHandler","event","preventDefault","selectionData","selectedVideos","reviewerData","totalAssignments","assignmentsCompleted","forEach","selectedVideo","postSelectionDataToSheet","alert","currentTarget","value","parseReviewers","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { postDataToSheet } from '../actions/postDataToTrackingSheet'\nimport { postReviewerDataToSheet } from '../actions/postReviewerDataToSheet'\nimport { findDriveFolderIds } from '../actions/moveToSelectedDriveFolder'\nimport ReviewerInfo from './ReviewerInfo'\nimport ProgressPanel from './ProgressPanel'\n\n\nconst SelectionInfo = props => {\n\n    const [selectedReviewer, setSelectedReviewer] = useState(\"-\")\n    \n    const [updatingDrive, setDriveStatus] = useState(false)\n\n    const pageRefresh = () => window.location.reload(false)\n\n    const assignmentsCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && video.mcQastatus)\n    \n    const assignmentsNotCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && !video.mcQastatus)\n    \n    const totalAssignmentsByReviewer = assignmentsCompletedByReviewer().length + assignmentsNotCompletedByReviewer().length + props.count\n\n    const selectedReviewerRowId = props.reviewers.find(r => r.name === selectedReviewer).rowId\n\n    const toggleUpdateStatus = () => {\n        setDriveStatus(!updatingDrive)\n    }\n\n    const clickHandler = event => {\n        event.preventDefault()\n        toggleUpdateStatus()\n        if(selectedReviewer !== \"-\"){\n            const selectionData = {\n                selectedVideos: props.selectedVideos,\n                reviewer: selectedReviewer\n            }\n\n            const reviewerData = {\n                name: selectedReviewer,\n                rowId: selectedReviewerRowId,\n                totalAssignments: totalAssignmentsByReviewer,\n                assignmentsCompleted: assignmentsCompletedByReviewer().length\n            }\n\n            selectionData.selectedVideos.forEach(video => {\n                \n                const selectedVideo = {\n                    video: video,\n                    reviewer: selectedReviewer\n                }\n                \n                props.postSelectionDataToSheet(selectedVideo)\n                props.findDriveFolderIds(selectedVideo)\n            })\n            props.postReviewerDataToSheet(reviewerData)\n            // TO DO: FIX LOGIC BELOW\n            // alert(`You've assigned ${props.selectedVideos.length} videos to ${selectedReviewer}`)\n            // pageRefresh()\n        }else{\n            alert(\"You Must Select a Reviewer to assign videos\")\n        }\n        toggleUpdateStatus()\n    }\n\n\n    return(\n        <div className=\"selection-div\">\n            <div id=\"selection-details\">\n                <h2>Selected Videos: {props.count} </h2>\n            </div>\n            <form id=\"options\">\n                Assign {props.count} videos to:\n                <select onChange={event => setSelectedReviewer(event.currentTarget.value)}>\n                    {props.parseReviewers()}\n                </select>\n                <button onClick={event => clickHandler(event)}>Assign Videos</button>\n            </form>\n            <ReviewerInfo reviewers={props.reviewers} assignmentsCompleted={assignmentsCompletedByReviewer} assignmentsNotCompleted={assignmentsNotCompletedByReviewer} count={props.count} selectedReviewer={selectedReviewer}/>\n           <div>\n            {updatingDrive ? <span>Updating Drive Information....</span>: <span>Reviewer Drive Up To Date</span>}\n            </div> \n        </div>\n        \n    )\n}\n\nconst mapDispatchToProps = dispatch => ({\n    postSelectionDataToSheet: selectionData => dispatch(postDataToSheet(selectionData)),\n    postReviewerDataToSheet: reviewerData => dispatch(postReviewerDataToSheet(reviewerData)),\n    findDriveFolderIds: selectionData => dispatch(findDriveFolderIds(selectionData))\n})\n\n\n\nexport default connect (0, mapDispatchToProps)(SelectionInfo)"]},"metadata":{},"sourceType":"module"}