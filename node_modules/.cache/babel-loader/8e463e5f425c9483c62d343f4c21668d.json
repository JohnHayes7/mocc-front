{"ast":null,"code":"var _jsxFileName = \"/Users/John/Dev/MC/media_ops_control_center/the-mocc-front/src/components/SelectionInfo.js\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { postDataToSheet } from '../actions/postDataToTrackingSheet';\nimport { postReviewerDataToSheet } from '../actions/postReviewerDataToSheet';\nimport { findDriveFolderIds } from '../actions/moveToSelectedDriveFolder';\nimport ReviewerInfo from './ReviewerInfo';\n\nconst SelectionInfo = props => {\n  const [selectedReviewer, setSelectedReviewer] = useState(\"-\");\n\n  const pageRefresh = () => window.location.reload(false);\n\n  const assignmentsCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && video.mcQastatus);\n\n  const assignmentsNotCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && !video.mcQastatus);\n\n  const totalAssignmentsByReviewer = assignmentsCompletedByReviewer().length + assignmentsNotCompletedByReviewer().length + props.count;\n  const selectedReviewerRowId = props.reviewers.find(r => r.name === selectedReviewer).rowId;\n\n  const clickHandler = event => {\n    event.preventDefault();\n\n    if (selectedReviewer !== \"-\") {\n      const selectionData = {\n        selectedVideos: props.selectedVideos,\n        reviewer: selectedReviewer\n      };\n      const reviewerData = {\n        name: selectedReviewer,\n        rowId: selectedReviewerRowId,\n        totalAssignments: totalAssignmentsByReviewer,\n        assignmentsCompleted: assignmentsCompletedByReviewer().length\n      };\n      selectionData.selectedVideos.forEach(video => {\n        debugger;\n        const selectedVideo = {\n          video: video,\n          reviewer: selectedReviewer\n        };\n        debugger;\n        props.postSelectionDataToSheet(selectedVideo);\n      });\n      props.findDriveFolderIds(selectionData);\n      props.postReviewerDataToSheet(reviewerData); // alert(`You've assigned ${props.selectedVideos.length} videos to ${selectedReviewer}`)\n      // pageRefresh()\n    } else {\n      alert(\"You Must Select a Reviewer to assign videos\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selection-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"selection-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Selected Videos: \", props.count, \" \")), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Assign \", props.count, \" videos to:\", /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => setSelectedReviewer(event.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, props.parseReviewers()), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => clickHandler(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Assign Videos\")), /*#__PURE__*/React.createElement(ReviewerInfo, {\n    reviewers: props.reviewers,\n    assignmentsCompleted: assignmentsCompletedByReviewer,\n    assignmentsNotCompleted: assignmentsNotCompletedByReviewer,\n    count: props.count,\n    selectedReviewer: selectedReviewer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  postSelectionDataToSheet: selectionData => dispatch(postDataToSheet(selectionData)),\n  postReviewerDataToSheet: reviewerData => dispatch(postReviewerDataToSheet(reviewerData)),\n  findDriveFolderIds: selectionData => dispatch(findDriveFolderIds(selectionData))\n});\n\nexport default connect(0, mapDispatchToProps)(SelectionInfo);","map":{"version":3,"sources":["/Users/John/Dev/MC/media_ops_control_center/the-mocc-front/src/components/SelectionInfo.js"],"names":["React","useState","connect","postDataToSheet","postReviewerDataToSheet","findDriveFolderIds","ReviewerInfo","SelectionInfo","props","selectedReviewer","setSelectedReviewer","pageRefresh","window","location","reload","assignmentsCompletedByReviewer","allVideos","filter","video","reviewer","mcQastatus","assignmentsNotCompletedByReviewer","totalAssignmentsByReviewer","length","count","selectedReviewerRowId","reviewers","find","r","name","rowId","clickHandler","event","preventDefault","selectionData","selectedVideos","reviewerData","totalAssignments","assignmentsCompleted","forEach","selectedVideo","postSelectionDataToSheet","alert","currentTarget","value","parseReviewers","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { postDataToSheet } from '../actions/postDataToTrackingSheet'\nimport { postReviewerDataToSheet } from '../actions/postReviewerDataToSheet'\nimport { findDriveFolderIds } from '../actions/moveToSelectedDriveFolder'\nimport ReviewerInfo from './ReviewerInfo'\n\n\nconst SelectionInfo = props => {\n\n    const [selectedReviewer, setSelectedReviewer] = useState(\"-\")\n    \n\n    const pageRefresh = () => window.location.reload(false)\n\n    const assignmentsCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && video.mcQastatus)\n    \n    const assignmentsNotCompletedByReviewer = () => props.allVideos.filter(video => video.reviewer === selectedReviewer && !video.mcQastatus)\n    \n    const totalAssignmentsByReviewer = assignmentsCompletedByReviewer().length + assignmentsNotCompletedByReviewer().length + props.count\n\n    const selectedReviewerRowId = props.reviewers.find(r => r.name === selectedReviewer).rowId\n\n    const clickHandler = event => {\n        event.preventDefault()\n        if(selectedReviewer !== \"-\"){\n            const selectionData = {\n                selectedVideos: props.selectedVideos,\n                reviewer: selectedReviewer\n            }\n\n            const reviewerData = {\n                name: selectedReviewer,\n                rowId: selectedReviewerRowId,\n                totalAssignments: totalAssignmentsByReviewer,\n                assignmentsCompleted: assignmentsCompletedByReviewer().length\n            }\n\n            selectionData.selectedVideos.forEach(video => {\n                debugger\n                const selectedVideo = {\n                    video: video,\n                    reviewer: selectedReviewer\n                }\n                debugger\n                props.postSelectionDataToSheet(selectedVideo)\n            })\n\n            props.findDriveFolderIds(selectionData)\n            props.postReviewerDataToSheet(reviewerData)\n            \n            // alert(`You've assigned ${props.selectedVideos.length} videos to ${selectedReviewer}`)\n            // pageRefresh()\n        }else{\n            alert(\"You Must Select a Reviewer to assign videos\")\n        }\n    }\n\n\n    return(\n        <div className=\"selection-div\">\n            <div id=\"selection-details\">\n                <h2>Selected Videos: {props.count} </h2>\n            </div>\n            <form id=\"options\">\n                Assign {props.count} videos to:\n                <select onChange={event => setSelectedReviewer(event.currentTarget.value)}>\n                    {props.parseReviewers()}\n                </select>\n                <button onClick={event => clickHandler(event)}>Assign Videos</button>\n            </form>\n            <ReviewerInfo reviewers={props.reviewers} assignmentsCompleted={assignmentsCompletedByReviewer} assignmentsNotCompleted={assignmentsNotCompletedByReviewer} count={props.count} selectedReviewer={selectedReviewer}/>\n            \n        </div>\n    )\n}\n\nconst mapDispatchToProps = dispatch => ({\n    postSelectionDataToSheet: selectionData => dispatch(postDataToSheet(selectionData)),\n    postReviewerDataToSheet: reviewerData => dispatch(postReviewerDataToSheet(reviewerData)),\n    findDriveFolderIds: selectionData => dispatch(findDriveFolderIds(selectionData))\n})\n\n\n\nexport default connect (0, mapDispatchToProps)(SelectionInfo)"]},"metadata":{},"sourceType":"module"}